
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>atomate.vasp package &#8212; atomate 0.9.4 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
 
<link href='https://fonts.googleapis.com/css?family=Lato:400,700' rel='stylesheet' type='text/css'>

  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">atomate 0.9.4 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="atomate-vasp-package">
<h1>atomate.vasp package<a class="headerlink" href="#atomate-vasp-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="atomate.vasp.analysis.html">atomate.vasp.analysis package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.analysis.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.analysis.html#module-atomate.vasp.analysis.phonopy">atomate.vasp.analysis.phonopy module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.analysis.html#module-atomate.vasp.analysis">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="atomate.vasp.builders.html">atomate.vasp.builders package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="atomate.vasp.builders.examples.html">atomate.vasp.builders.examples package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.builders.examples.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.builders.examples.html#module-atomate.vasp.builders.examples.run_builders">atomate.vasp.builders.examples.run_builders module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.builders.examples.html#module-atomate.vasp.builders.examples">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.bandgap_estimation">atomate.vasp.builders.bandgap_estimation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.base">atomate.vasp.builders.base module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.boltztrap_materials">atomate.vasp.builders.boltztrap_materials module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.dielectric">atomate.vasp.builders.dielectric module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.file_materials">atomate.vasp.builders.file_materials module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.fix_tasks">atomate.vasp.builders.fix_tasks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.materials_descriptor">atomate.vasp.builders.materials_descriptor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.materials_ehull">atomate.vasp.builders.materials_ehull module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.tags">atomate.vasp.builders.tags module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.tasks_materials">atomate.vasp.builders.tasks_materials module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders.utils">atomate.vasp.builders.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.builders.html#module-atomate.vasp.builders">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="atomate.vasp.firetasks.html">atomate.vasp.firetasks package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.firetasks.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="atomate.vasp.firetasks.tests.html">atomate.vasp.firetasks.tests package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.firetasks.tests.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.firetasks.tests.html#atomate-vasp-firetasks-tests-test-copy-module">atomate.vasp.firetasks.tests.test_copy module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.firetasks.tests.html#atomate-vasp-firetasks-tests-test-get-interpolated-poscar-module">atomate.vasp.firetasks.tests.test_get_interpolated_poscar module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.firetasks.tests.html#atomate-vasp-firetasks-tests-test-polarization-to-db-module">atomate.vasp.firetasks.tests.test_polarization_to_db module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.firetasks.tests.html#atomate-vasp-firetasks-tests-test-write-vasp-module">atomate.vasp.firetasks.tests.test_write_vasp module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.firetasks.tests.html#atomate-vasp-firetasks-tests-test-write-vasp-from-interpolated-poscar-module">atomate.vasp.firetasks.tests.test_write_vasp_from_interpolated_poscar module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.firetasks.tests.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.firetasks.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.firetasks.html#module-atomate.vasp.firetasks.glue_tasks">atomate.vasp.firetasks.glue_tasks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.firetasks.html#module-atomate.vasp.firetasks.neb_tasks">atomate.vasp.firetasks.neb_tasks module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.firetasks.html#module-atomate.vasp.firetasks.parse_outputs">atomate.vasp.firetasks.parse_outputs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.firetasks.html#atomate-vasp-firetasks-run-calc-module">atomate.vasp.firetasks.run_calc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.firetasks.html#atomate-vasp-firetasks-write-inputs-module">atomate.vasp.firetasks.write_inputs module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.firetasks.html#module-contents">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="atomate.vasp.fireworks.html">atomate.vasp.fireworks package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.fireworks.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.fireworks.html#atomate-vasp-fireworks-core-module">atomate.vasp.fireworks.core module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.fireworks.html#atomate-vasp-fireworks-nmr-module">atomate.vasp.fireworks.nmr module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.fireworks.html#atomate-vasp-fireworks-polarization-module">atomate.vasp.fireworks.polarization module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.fireworks.html#module-contents">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="atomate.vasp.tests.html">atomate.vasp.tests package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.tests.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.tests.html#module-atomate.vasp.tests.test_drones">atomate.vasp.tests.test_drones module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.tests.html#module-atomate.vasp.tests.test_setup">atomate.vasp.tests.test_setup module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.tests.html#atomate-vasp-tests-test-vasp-powerups-module">atomate.vasp.tests.test_vasp_powerups module</a></li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.tests.html#module-atomate.vasp.tests">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="atomate.vasp.workflows.html">atomate.vasp.workflows package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.workflows.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="atomate.vasp.workflows.base.html">atomate.vasp.workflows.base package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-adsorption-module">atomate.vasp.workflows.base.adsorption module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-bulk-modulus-module">atomate.vasp.workflows.base.bulk_modulus module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-core-module">atomate.vasp.workflows.base.core module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-deformations-module">atomate.vasp.workflows.base.deformations module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-elastic-module">atomate.vasp.workflows.base.elastic module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-ferroelectric-module">atomate.vasp.workflows.base.ferroelectric module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-gibbs-module">atomate.vasp.workflows.base.gibbs module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-magnetism-module">atomate.vasp.workflows.base.magnetism module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-neb-module">atomate.vasp.workflows.base.neb module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-raman-module">atomate.vasp.workflows.base.raman module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#atomate-vasp-workflows-base-thermal-expansion-module">atomate.vasp.workflows.base.thermal_expansion module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.base.html#module-contents">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="atomate.vasp.workflows.presets.html">atomate.vasp.workflows.presets package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.presets.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.presets.html#atomate-vasp-workflows-presets-core-module">atomate.vasp.workflows.presets.core module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.presets.html#atomate-vasp-workflows-presets-scan-module">atomate.vasp.workflows.presets.scan module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.presets.html#module-atomate.vasp.workflows.presets">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="atomate.vasp.workflows.tests.html">atomate.vasp.workflows.tests package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-adsorbate-workflow-module">atomate.vasp.workflows.tests.test_adsorbate_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-bulk-modulus-workflow-module">atomate.vasp.workflows.tests.test_bulk_modulus_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-elastic-workflow-module">atomate.vasp.workflows.tests.test_elastic_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-ferroelectric-workflow-module">atomate.vasp.workflows.tests.test_ferroelectric_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-magnetism-workflow-module">atomate.vasp.workflows.tests.test_magnetism_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-neb-workflow-module">atomate.vasp.workflows.tests.test_neb_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-nmr-module">atomate.vasp.workflows.tests.test_nmr module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-raman-workflow-module">atomate.vasp.workflows.tests.test_raman_workflow module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#atomate-vasp-workflows-tests-test-vasp-workflows-module">atomate.vasp.workflows.tests.test_vasp_workflows module</a></li>
<li class="toctree-l4"><a class="reference internal" href="atomate.vasp.workflows.tests.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="atomate.vasp.workflows.html#module-contents">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-atomate.vasp.config">
<span id="atomate-vasp-config-module"></span><h2>atomate.vasp.config module<a class="headerlink" href="#module-atomate.vasp.config" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-atomate.vasp.database">
<span id="atomate-vasp-database-module"></span><h2>atomate.vasp.database module<a class="headerlink" href="#module-atomate.vasp.database" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="atomate.vasp.database.VaspCalcDb">
<em class="property">class </em><code class="sig-prename descclassname">atomate.vasp.database.</code><code class="sig-name descname">VaspCalcDb</code><span class="sig-paren">(</span><em class="sig-param">host='localhost'</em>, <em class="sig-param">port=27017</em>, <em class="sig-param">database='vasp'</em>, <em class="sig-param">collection='tasks'</em>, <em class="sig-param">user=None</em>, <em class="sig-param">password=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="atomate.utils.html#atomate.utils.database.CalcDb" title="atomate.utils.database.CalcDb"><code class="xref py py-class docutils literal notranslate"><span class="pre">atomate.utils.database.CalcDb</span></code></a></p>
<p>Class to help manage database insertions of Vasp drones</p>
<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">host='localhost'</em>, <em class="sig-param">port=27017</em>, <em class="sig-param">database='vasp'</em>, <em class="sig-param">collection='tasks'</em>, <em class="sig-param">user=None</em>, <em class="sig-param">password=None</em>, <em class="sig-param">**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize self.  See help(type(self)) for accurate signature.</p>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.build_indexes">
<code class="sig-name descname">build_indexes</code><span class="sig-paren">(</span><em class="sig-param">indexes=None</em>, <em class="sig-param">background=True</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.build_indexes" title="Permalink to this definition">¶</a></dt>
<dd><p>Build the indexes.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>indexes (list): list of single field indexes to be built.
background (bool): Run in the background or not.</p>
</dd>
<dt>TODO: make sure that the index building is sensible and check for</dt><dd><p>existing indexes.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.get_aeccar">
<code class="sig-name descname">get_aeccar</code><span class="sig-paren">(</span><em class="sig-param">task_id</em>, <em class="sig-param">check_valid=True</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.get_aeccar" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the AECCAR0 + AECCAR2 grid_fs data into a Chgcar object
Args:</p>
<blockquote>
<div><p>task_id(int or str): the task_id containing the gridfs metadata
check_valid (bool): make sure that the aeccar is positive definite</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>{“aeccar0” : Chgcar, “aeccar2” : Chgcar}: dict of Chgcar objects</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.get_band_structure">
<code class="sig-name descname">get_band_structure</code><span class="sig-paren">(</span><em class="sig-param">task_id</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.get_band_structure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.get_chgcar">
<code class="sig-name descname">get_chgcar</code><span class="sig-paren">(</span><em class="sig-param">task_id</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.get_chgcar" title="Permalink to this definition">¶</a></dt>
<dd><p>Read the CHGCAR grid_fs data into a Chgcar object
Args:</p>
<blockquote>
<div><p>task_id(int or str): the task_id containing the gridfs metadata</p>
</div></blockquote>
<dl class="simple">
<dt>Returns:</dt><dd><p>chgcar: Chgcar object</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.get_chgcar_string">
<code class="sig-name descname">get_chgcar_string</code><span class="sig-paren">(</span><em class="sig-param">task_id</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.get_chgcar_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.get_dos">
<code class="sig-name descname">get_dos</code><span class="sig-paren">(</span><em class="sig-param">task_id</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.get_dos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.insert_gridfs">
<code class="sig-name descname">insert_gridfs</code><span class="sig-paren">(</span><em class="sig-param">d</em>, <em class="sig-param">collection='fs'</em>, <em class="sig-param">compress=True</em>, <em class="sig-param">oid=None</em>, <em class="sig-param">task_id=None</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.insert_gridfs" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert the given document into GridFS.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>d (dict): the document
collection (string): the GridFS collection name
compress (bool): Whether to compress the data or not
oid (ObjectId()): the _id of the file; if specified, it must not already exist in GridFS
task_id(int or str): the task_id to store into the gridfs metadata</p>
</dd>
<dt>Returns:</dt><dd><p>file id, the type of compression used.</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.insert_task">
<code class="sig-name descname">insert_task</code><span class="sig-paren">(</span><em class="sig-param">task_doc</em>, <em class="sig-param">use_gridfs=False</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.insert_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Inserts a task document (e.g., as returned by Drone.assimilate()) into the database.
Handles putting DOS, band structure and charge density into GridFS as needed.
During testing, a percentage of runs on some clusters had corrupted AECCAR files when even if everything else about the calculation looked OK.
So we do a quick check here and only record the AECCARs if they are valid</p>
<dl class="simple">
<dt>Args:</dt><dd><p>task_doc: (dict) the task document
use_gridfs (bool) use gridfs for  bandstructures and DOS</p>
</dd>
<dt>Returns:</dt><dd><p>(int) - task_id of inserted document</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.reset">
<code class="sig-name descname">reset</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.reset" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.database.VaspCalcDb.retrieve_task">
<code class="sig-name descname">retrieve_task</code><span class="sig-paren">(</span><em class="sig-param">task_id</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.database.VaspCalcDb.retrieve_task" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves a task document and unpacks the band structure and DOS as dict</p>
<dl class="simple">
<dt>Args:</dt><dd><p>task_id: (int) task_id to retrieve</p>
</dd>
<dt>Returns:</dt><dd><p>(dict) complete task document with BS + DOS included</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-atomate.vasp.drones">
<span id="atomate-vasp-drones-module"></span><h2>atomate.vasp.drones module<a class="headerlink" href="#module-atomate.vasp.drones" title="Permalink to this headline">¶</a></h2>
<p>This Drone tries to produce a more sensible task dictionary than the default VaspToDbTaskDrone.
Some of the changes are documented in this thread:
<a class="reference external" href="https://groups.google.com/forum/#!topic/pymatgen/pQ-emBpeV5U">https://groups.google.com/forum/#!topic/pymatgen/pQ-emBpeV5U</a></p>
<dl class="class">
<dt id="atomate.vasp.drones.VaspDrone">
<em class="property">class </em><code class="sig-prename descclassname">atomate.vasp.drones.</code><code class="sig-name descname">VaspDrone</code><span class="sig-paren">(</span><em class="sig-param">runs=None</em>, <em class="sig-param">parse_dos='auto'</em>, <em class="sig-param">bandstructure_mode='auto'</em>, <em class="sig-param">parse_locpot=True</em>, <em class="sig-param">additional_fields=None</em>, <em class="sig-param">use_full_uri=True</em>, <em class="sig-param">parse_bader=None</em>, <em class="sig-param">parse_chgcar=False</em>, <em class="sig-param">parse_aeccar=False</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.apps.borg.hive.AbstractDrone</span></code></p>
<p>pymatgen-db VaspToDbTaskDrone with updated schema and documents processing methods.
Please refer to matgendb.creator.VaspToDbTaskDrone documentation.</p>
<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">runs=None</em>, <em class="sig-param">parse_dos='auto'</em>, <em class="sig-param">bandstructure_mode='auto'</em>, <em class="sig-param">parse_locpot=True</em>, <em class="sig-param">additional_fields=None</em>, <em class="sig-param">use_full_uri=True</em>, <em class="sig-param">parse_bader=None</em>, <em class="sig-param">parse_chgcar=False</em>, <em class="sig-param">parse_aeccar=False</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a Vasp drone to parse vasp outputs
Args:</p>
<blockquote>
<div><dl class="simple">
<dt>runs (list): Naming scheme for multiple calcuations in on folder e.g. [“relax1”,”relax2”].</dt><dd><p>Can be subfolder or extension</p>
</dd>
</dl>
<p>parse_dos (str or bool): Whether to parse the DOS. Can be “auto”, True or False.
“auto” will only parse DOS if NSW = 0, so there are no ionic steps
bandstructure_mode (str or bool): How to parse the bandstructure or not. Can be “auto”,”line”, True or False.</p>
<blockquote>
<div><dl class="simple">
<dt>“auto” will parse the bandstructure with projections for NSCF calcs and decide automatically</dt><dd><p>if it’s line mode or uniform. Saves the bandstructure in the output doc.</p>
</dd>
<dt>“line” will parse the bandstructure as a line mode calculation with projections.</dt><dd><p>Saves the bandstructure in the output doc.</p>
</dd>
<dt>True will parse the bandstructure with projections as a uniform calculation.</dt><dd><p>Saves the bandstructure in the output doc.</p>
</dd>
<dt>False will parse the bandstructure without projections to calculate vbm, cbm, band_gap, is_metal and efermi</dt><dd><p>Dose not saves the bandstructure in the output doc.</p>
</dd>
</dl>
</div></blockquote>
<p>parse_locpot (bool): Parses the LOCPOT file and saves the 3 axis averages
additional_fields (dict): dictionary of additional fields to add to output document
use_full_uri (bool): converts the directory path to the full URI path
parse_bader (bool): Run and parse Bader charge data. Defaults to True if Bader is present
parse_chgcar (bool): Run and parse CHGCAR file
parse_aeccar (bool): Run and parse AECCAR0 and AECCAR2 files</p>
</div></blockquote>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>A JSON serializable dict representation of an object.</p>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.assimilate">
<code class="sig-name descname">assimilate</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.assimilate" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from matgendb.creator
Parses vasp runs(vasprun.xml file) and insert the result into the db.
Get the entire task doc from the vasprum.xml and the OUTCAR files in the path.
Also adds some post-processed info.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>path (str): Path to the directory containing vasprun.xml and OUTCAR files</p>
</dd>
<dt>Returns:</dt><dd><p>(dict): a task dictionary</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.filter_files">
<code class="sig-name descname">filter_files</code><span class="sig-paren">(</span><em class="sig-param">path</em>, <em class="sig-param">file_pattern='vasprun.xml'</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.filter_files" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the files that match the pattern in the given path and
return them in an ordered dictionary. The searched for files are
filtered by the run types defined in self.runs. e.g. [“relax1”, “relax2”, …].
Only 2 schemes of the file filtering is enabled: searching for run types
in the list of files and in the filenames. Modify this method if more
sophisticated filtering scheme is needed.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>path (string): path to the folder
file_pattern (string): files to be searched for</p>
</dd>
<dt>Returns:</dt><dd><p>OrderedDict of the names of the files to be processed further.
The key is set from list of run types: self.runs</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.generate_doc">
<code class="sig-name descname">generate_doc</code><span class="sig-paren">(</span><em class="sig-param">dir_name</em>, <em class="sig-param">vasprun_files</em>, <em class="sig-param">outcar_files</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.generate_doc" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from matgendb.creator.generate_doc</p>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.get_valid_paths">
<code class="sig-name descname">get_valid_paths</code><span class="sig-paren">(</span><em class="sig-param">path</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.get_valid_paths" title="Permalink to this definition">¶</a></dt>
<dd><p>There are some restrictions on the valid directory structures:</p>
<ol class="arabic simple">
<li><p>There can be only one vasp run in each directory. Nested directories
are fine.</p></li>
<li><p>Directories designated “relax1”…”relax9” are considered to be
parts of a multiple-optimization run.</p></li>
<li><p>Directories containing vasp output with “.relax1”…”.relax9” are
also considered as parts of a multiple-optimization run.</p></li>
</ol>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.post_process">
<code class="sig-name descname">post_process</code><span class="sig-paren">(</span><em class="sig-param">dir_name</em>, <em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.post_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Post-processing for various files other than the vasprun.xml and OUTCAR.
Looks for files: transformations.json and custodian.json. Modify this if other
output files need to be processed.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>dir_name:</dt><dd><p>The dir_name.</p>
</dd>
<dt>d:</dt><dd><p>Current doc generated.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.process_bandstructure">
<code class="sig-name descname">process_bandstructure</code><span class="sig-paren">(</span><em class="sig-param">vrun</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.process_bandstructure" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.process_chgcar">
<em class="property">classmethod </em><code class="sig-name descname">process_chgcar</code><span class="sig-paren">(</span><em class="sig-param">chg_file</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.process_chgcar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.process_dos">
<code class="sig-name descname">process_dos</code><span class="sig-paren">(</span><em class="sig-param">vrun</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.process_dos" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.process_raw_data">
<code class="sig-name descname">process_raw_data</code><span class="sig-paren">(</span><em class="sig-param">dir_name</em>, <em class="sig-param">taskname='standard'</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.process_raw_data" title="Permalink to this definition">¶</a></dt>
<dd><p>It is useful to store what raw data has been calculated
and exists for easier querying of the taskdoc.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dir_name</strong> – directory to search</p></li>
<li><p><strong>taskname</strong> – taskname, e.g. “relax1”</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>dict of files present</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.process_vasprun">
<code class="sig-name descname">process_vasprun</code><span class="sig-paren">(</span><em class="sig-param">dir_name</em>, <em class="sig-param">taskname</em>, <em class="sig-param">filename</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.process_vasprun" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from matgendb.creator</p>
<p>Process a vasprun.xml file.</p>
</dd></dl>

<dl class="attribute">
<dt id="atomate.vasp.drones.VaspDrone.schema">
<code class="sig-name descname">schema</code><em class="property"> = {'analysis': {'delta_volume', 'delta_volume_as_percent', 'errors', 'max_force', 'warnings'}, 'calcs_reversed': {'completed_at', 'composition_reduced', 'composition_unit_cell', 'dir_name', 'elements', 'formula_anonymous', 'formula_pretty', 'formula_reduced_abc', 'has_vasp_completed', 'input', 'nelements', 'nsites', 'output', 'run_type', 'task', 'vasp_version'}, 'input': {'hubbards', 'is_hubbard', 'is_lasph', 'potcar_spec', 'pseudo_potential', 'structure', 'xc_override'}, 'output': {'bandgap', 'cbm', 'density', 'energy', 'energy_per_atom', 'forces', 'is_gap_direct', 'is_metal', 'spacegroup', 'stress', 'structure', 'vbm'}, 'root': {'analysis', 'calcs_reversed', 'chemsys', 'completed_at', 'composition_reduced', 'composition_unit_cell', 'dir_name', 'elements', 'formula_anonymous', 'formula_pretty', 'formula_reduced_abc', 'input', 'nelements', 'nsites', 'output', 'run_stats', 'schema', 'state'}}</em><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.schema" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.set_analysis">
<em class="property">static </em><code class="sig-name descname">set_analysis</code><span class="sig-paren">(</span><em class="sig-param">d</em>, <em class="sig-param">max_force_threshold=0.5</em>, <em class="sig-param">volume_change_threshold=0.2</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.set_analysis" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapted from matgendb.creator</p>
<p>set the ‘analysis’ key</p>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.drones.VaspDrone.validate_doc">
<code class="sig-name descname">validate_doc</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.drones.VaspDrone.validate_doc" title="Permalink to this definition">¶</a></dt>
<dd><p>Sanity check.
Make sure all the important keys are set</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="atomate-vasp-powerups-module">
<h2>atomate.vasp.powerups module<a class="headerlink" href="#atomate-vasp-powerups-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-atomate.vasp.submission_filter">
<span id="atomate-vasp-submission-filter-module"></span><h2>atomate.vasp.submission_filter module<a class="headerlink" href="#module-atomate.vasp.submission_filter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="atomate.vasp.submission_filter.SubmissionFilter">
<em class="property">class </em><code class="sig-prename descclassname">atomate.vasp.submission_filter.</code><code class="sig-name descname">SubmissionFilter</code><span class="sig-paren">(</span><em class="sig-param">is_valid=True</em>, <em class="sig-param">potcar_exists=True</em>, <em class="sig-param">max_natoms=200</em>, <em class="sig-param">is_ordered=True</em>, <em class="sig-param">not_in_MP=True</em>, <em class="sig-param">MAPI_KEY=None</em>, <em class="sig-param">require_bandstructure=False</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.submission_filter.SubmissionFilter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pymatgen.alchemy.filters.AbstractStructureFilter</span></code></p>
<dl class="attribute">
<dt id="atomate.vasp.submission_filter.SubmissionFilter.NO_POTCARS">
<code class="sig-name descname">NO_POTCARS</code><em class="property"> = ['Po', 'At', 'Rn', 'Fr', 'Ra', 'Am', 'Cm', 'Bk', 'Cf', 'Es', 'Fm', 'Md', 'No', 'Lr']</em><a class="headerlink" href="#atomate.vasp.submission_filter.SubmissionFilter.NO_POTCARS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.submission_filter.SubmissionFilter.__init__">
<code class="sig-name descname">__init__</code><span class="sig-paren">(</span><em class="sig-param">is_valid=True</em>, <em class="sig-param">potcar_exists=True</em>, <em class="sig-param">max_natoms=200</em>, <em class="sig-param">is_ordered=True</em>, <em class="sig-param">not_in_MP=True</em>, <em class="sig-param">MAPI_KEY=None</em>, <em class="sig-param">require_bandstructure=False</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.submission_filter.SubmissionFilter.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize a submission filter for checking that structures are valid for calculations.</p>
<dl class="simple">
<dt>Args:</dt><dd><p>is_valid (bool): If true, checks structure validity
potcar_exists (bool): If true, ensures all elements have VASP PAW_PBE POTCAR
max_natoms (int): If not None, ensures structure has &lt;=max_natoms atoms
is_ordered (bool): If true, ensures structure is ordered
not_in_MP (bool): If true, ensures structure not in MP
MAPI_KEY (str): For MP checks, your MAPI key if not previously set as config var
require_bandstructure (bool): For MP checks, require a band structure calc</p>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.submission_filter.SubmissionFilter.as_dict">
<code class="sig-name descname">as_dict</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.submission_filter.SubmissionFilter.as_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>A JSON serializable dict representation of an object.</p>
</dd></dl>

<dl class="method">
<dt id="atomate.vasp.submission_filter.SubmissionFilter.from_dict">
<em class="property">classmethod </em><code class="sig-name descname">from_dict</code><span class="sig-paren">(</span><em class="sig-param">d</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.submission_filter.SubmissionFilter.from_dict" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="atomate.vasp.submission_filter.SubmissionFilter.test">
<code class="sig-name descname">test</code><span class="sig-paren">(</span><em class="sig-param">structure</em><span class="sig-paren">)</span><a class="headerlink" href="#atomate.vasp.submission_filter.SubmissionFilter.test" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to execute the test.</p>
<dl class="simple">
<dt>Returns:</dt><dd><p>(bool) Structures that return true are kept in the Transmuter
object during filtering.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-atomate.vasp.vasp_config">
<span id="atomate-vasp-vasp-config-module"></span><h2>atomate.vasp.vasp_config module<a class="headerlink" href="#module-atomate.vasp.vasp_config" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="atomate-vasp-vasp-powerups-module">
<h2>atomate.vasp.vasp_powerups module<a class="headerlink" href="#atomate-vasp-vasp-powerups-module" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-atomate.vasp">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-atomate.vasp" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">atomate.vasp package</a><ul>
<li><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-atomate.vasp.config">atomate.vasp.config module</a></li>
<li><a class="reference internal" href="#module-atomate.vasp.database">atomate.vasp.database module</a></li>
<li><a class="reference internal" href="#module-atomate.vasp.drones">atomate.vasp.drones module</a></li>
<li><a class="reference internal" href="#atomate-vasp-powerups-module">atomate.vasp.powerups module</a></li>
<li><a class="reference internal" href="#module-atomate.vasp.submission_filter">atomate.vasp.submission_filter module</a></li>
<li><a class="reference internal" href="#module-atomate.vasp.vasp_config">atomate.vasp.vasp_config module</a></li>
<li><a class="reference internal" href="#atomate-vasp-vasp-powerups-module">atomate.vasp.vasp_powerups module</a></li>
<li><a class="reference internal" href="#module-atomate.vasp">Module contents</a></li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/atomate.vasp.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">atomate 0.9.4 documentation</a> &#187;</li> 
      </ul>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2015, Anubhav Jain.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.1.2.
    </div>

  </body>
</html>